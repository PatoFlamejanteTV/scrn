## 2024-10-27 - [Secure Heap Reallocation]
**Vulnerability:** `std::vector::resize` (and similar containers) may reallocate memory when growing, copying data to the new block and freeing the old block without clearing it. This leaves sensitive data in the heap (freed memory), accessible to other processes or analysis tools.
**Learning:** Standard C++ containers are not designed for sensitive data storage. Custom wrappers must intercept reallocation events (check `new_size > capacity()`) and wipe the old buffer *before* the container frees it.
**Prevention:** In `SecureBuffer` wrappers, always check for capacity overflow before resizing. If reallocation is imminent, `SecureZeroMemory` the active buffer. Note that this may destroy data (if you wipe before resize copies), so it's best for buffers that are about to be overwritten anyway, or requires a custom allocator.
